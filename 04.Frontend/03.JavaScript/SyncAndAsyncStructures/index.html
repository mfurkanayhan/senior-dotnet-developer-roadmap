<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Synchronous and Asynchronous Structures</title>
</head>
<body>
    
    <script>
        // Synchronous and Asynchronous Structures
        
        // Synchronous Programming: Synchronous structures involve processes that execute in sequence, each waiting for the previous one to complete before continuing. This approach is ideal for simpler applications and managing workflows straightforwardly. In cases like database queries, the rest of the code waits until the process results are retrieved.


        // Synchronous function definition
        function apiRequestSync() {
            var request = new XMLHttpRequest(); // Create XMLHttpRequest object
            request.open('GET', "https://jsonplaceholder.typicode.com/todos", false); // 'false' makes it synchronous
            request.send(null); // Send the request

            if (request.status === 200) { // Check for HTTP 200 OK status code
                console.log(request.responseText); // Print the response to the console
            } else {
                console.log("HTTP Error:", request.status); // Print error message if there's an issue
            }
        }

        apiRequestSync(); // Call the function

        // *********************************************************************************************************

        // Asynchronous Programming: Using async and await, applications can continue processing other operations during potentially long-running tasks like I/O operations. This significantly improves the speed of user interfaces and server responses. Asynchronous structures enhance the application's responsiveness and can handle multiple requests concurrently.

        
        // Asynchronous function definition
        async function apiRequestAsync() {
            // Use the 'await' keyword to wait for the 'fetch' promise to resolve
            const response = await fetch("https://jsonplaceholder.typicode.com/todos");
            // The 'response' variable holds the resolved value of the promise returned by 'fetch'

            // Check if the response is successful (HTTP status 200-299)
            if (response.ok) {
                // Use 'await' to wait for the response body to be read and parsed as JSON
                const data = await response.json();
                // Log the data to the console
                console.log(data);
            } else {
                // Log an error message if the HTTP request failed
                console.log("HTTP Error:", response.status);
            }
        }

        apiRequestAsync(); // Initiates the function call

    </script>
</body>
</html>
